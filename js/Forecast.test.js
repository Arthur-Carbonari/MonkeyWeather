import Forecast from "./Forecast";
import Location from "./Location";

describe("Forecast", () => {
    let mockForecast = new Forecast('20/3', { "day": 10.56, "night": 10.39, "eve": 11.91, "morn": 5.82 }, "Clear", "clear sky")

    test("Constructor test", () => {
        expect(mockForecast.date).toBe('20/3');
        expect(mockForecast.feels_like).toStrictEqual({ "day": 10.56, "night": 10.39, "eve": 11.91, "morn": 5.82 });
        expect(mockForecast.weatherMain).toBe("Clear");
        expect(mockForecast.weatherDescription).toBe("clear sky");
    })

    test("getAllTemperatures test", () => {
        expect(mockForecast.getAllTemperatures()).toStrictEqual([10.56, 11.91, 5.82, 10.39])
    })

    test("getForecastsFromData", () => {
        let data = {"lat":41.0151,"lon":28.9795,"timezone":"Europe/Istanbul","timezone_offset":10800,"daily":[{"dt":1650448800,"sunrise":1650424656,"sunset":1650473285,"moonrise":0,"moonset":1650432900,"moon_phase":0.63,"temp":{"day":12.02,"min":5.25,"max":13.45,"night":11.73,"eve":13.37,"morn":7.21},"feels_like":{"day":10.56,"night":10.39,"eve":11.91,"morn":5.82},"pressure":1017,"humidity":49,"dew_point":0.8,"wind_speed":2.84,"wind_deg":173,"wind_gust":3.61,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":2,"pop":0,"uvi":5.67},{"dt":1650535200,"sunrise":1650510967,"sunset":1650559749,"moonrise":1650490440,"moonset":1650522540,"moon_phase":0.67,"temp":{"day":13.65,"min":8.95,"max":15.16,"night":13.32,"eve":14.22,"morn":8.95},"feels_like":{"day":12.59,"night":12.51,"eve":13.24,"morn":7.51},"pressure":1018,"humidity":58,"dew_point":5.35,"wind_speed":3.88,"wind_deg":312,"wind_gust":8.91,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":90,"pop":0.08,"uvi":6.4},{"dt":1650621600,"sunrise":1650597280,"sunset":1650646213,"moonrise":1650580860,"moonset":1650612720,"moon_phase":0.71,"temp":{"day":19.42,"min":11.97,"max":20.35,"night":17.56,"eve":20.34,"morn":12.31},"feels_like":{"day":18.64,"night":17.07,"eve":19.76,"morn":11.45},"pressure":1014,"humidity":47,"dew_point":6.84,"wind_speed":3.15,"wind_deg":63,"wind_gust":5.44,"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"clouds":75,"pop":0,"uvi":6.92},{"dt":1650708000,"sunrise":1650683594,"sunset":1650732677,"moonrise":1650670500,"moonset":1650703380,"moon_phase":0.75,"temp":{"day":18.44,"min":14.96,"max":19.57,"night":16.36,"eve":19,"morn":14.96},"feels_like":{"day":17.88,"night":15.64,"eve":18.29,"morn":14.34},"pressure":1009,"humidity":59,"dew_point":9.29,"wind_speed":3.7,"wind_deg":245,"wind_gust":5.67,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":100,"pop":0,"uvi":6},{"dt":1650794400,"sunrise":1650769909,"sunset":1650819142,"moonrise":1650759600,"moonset":1650794160,"moon_phase":0.78,"temp":{"day":18.76,"min":13.66,"max":21.06,"night":17.91,"eve":21.06,"morn":13.66},"feels_like":{"day":18.26,"night":17.4,"eve":20.55,"morn":13.09},"pressure":1013,"humidity":60,"dew_point":9.6,"wind_speed":4.37,"wind_deg":53,"wind_gust":7.75,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":9,"pop":0,"uvi":7.04},{"dt":1650880800,"sunrise":1650856224,"sunset":1650905606,"moonrise":1650848100,"moonset":1650884940,"moon_phase":0.82,"temp":{"day":19.91,"min":14.6,"max":20.51,"night":14.8,"eve":17.98,"morn":14.6},"feels_like":{"day":19.29,"night":14.22,"eve":17.35,"morn":13.87},"pressure":1013,"humidity":51,"dew_point":9.04,"wind_speed":6.33,"wind_deg":46,"wind_gust":9.35,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":100,"pop":0,"uvi":8},{"dt":1650967200,"sunrise":1650942541,"sunset":1650992070,"moonrise":1650936180,"moonset":1650975540,"moon_phase":0.85,"temp":{"day":18.2,"min":12.07,"max":19.75,"night":14.64,"eve":17.85,"morn":12.07},"feels_like":{"day":17.54,"night":14.01,"eve":17.18,"morn":11.55},"pressure":1014,"humidity":56,"dew_point":8.93,"wind_speed":4.65,"wind_deg":37,"wind_gust":6.53,"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],"clouds":48,"pop":0,"uvi":8},{"dt":1651053600,"sunrise":1651028859,"sunset":1651078535,"moonrise":1651024140,"moonset":1651066020,"moon_phase":0.89,"temp":{"day":18.51,"min":12.01,"max":20.03,"night":14.61,"eve":17.83,"morn":12.01},"feels_like":{"day":17.88,"night":14.16,"eve":17.31,"morn":11.43},"pressure":1016,"humidity":56,"dew_point":9.12,"wind_speed":5.37,"wind_deg":38,"wind_gust":7.59,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":0,"pop":0,"uvi":8}]}

        let expectedData = Forecast.getForecastsFromData({"lat":41.0151,"lon":28.9795,"timezone":"Europe/Istanbul","timezone_offset":10800,"daily":[{"dt":1650448800,"sunrise":1650424656,"sunset":1650473285,"moonrise":0,"moonset":1650432900,"moon_phase":0.63,"temp":{"day":12.02,"min":5.25,"max":13.45,"night":11.73,"eve":13.37,"morn":7.21},"feels_like":{"day":10.56,"night":10.39,"eve":11.91,"morn":5.82},"pressure":1017,"humidity":49,"dew_point":0.8,"wind_speed":2.84,"wind_deg":173,"wind_gust":3.61,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":2,"pop":0,"uvi":5.67},{"dt":1650535200,"sunrise":1650510967,"sunset":1650559749,"moonrise":1650490440,"moonset":1650522540,"moon_phase":0.67,"temp":{"day":13.65,"min":8.95,"max":15.16,"night":13.32,"eve":14.22,"morn":8.95},"feels_like":{"day":12.59,"night":12.51,"eve":13.24,"morn":7.51},"pressure":1018,"humidity":58,"dew_point":5.35,"wind_speed":3.88,"wind_deg":312,"wind_gust":8.91,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":90,"pop":0.08,"uvi":6.4},{"dt":1650621600,"sunrise":1650597280,"sunset":1650646213,"moonrise":1650580860,"moonset":1650612720,"moon_phase":0.71,"temp":{"day":19.42,"min":11.97,"max":20.35,"night":17.56,"eve":20.34,"morn":12.31},"feels_like":{"day":18.64,"night":17.07,"eve":19.76,"morn":11.45},"pressure":1014,"humidity":47,"dew_point":6.84,"wind_speed":3.15,"wind_deg":63,"wind_gust":5.44,"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"clouds":75,"pop":0,"uvi":6.92},{"dt":1650708000,"sunrise":1650683594,"sunset":1650732677,"moonrise":1650670500,"moonset":1650703380,"moon_phase":0.75,"temp":{"day":18.44,"min":14.96,"max":19.57,"night":16.36,"eve":19,"morn":14.96},"feels_like":{"day":17.88,"night":15.64,"eve":18.29,"morn":14.34},"pressure":1009,"humidity":59,"dew_point":9.29,"wind_speed":3.7,"wind_deg":245,"wind_gust":5.67,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":100,"pop":0,"uvi":6},{"dt":1650794400,"sunrise":1650769909,"sunset":1650819142,"moonrise":1650759600,"moonset":1650794160,"moon_phase":0.78,"temp":{"day":18.76,"min":13.66,"max":21.06,"night":17.91,"eve":21.06,"morn":13.66},"feels_like":{"day":18.26,"night":17.4,"eve":20.55,"morn":13.09},"pressure":1013,"humidity":60,"dew_point":9.6,"wind_speed":4.37,"wind_deg":53,"wind_gust":7.75,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":9,"pop":0,"uvi":7.04},{"dt":1650880800,"sunrise":1650856224,"sunset":1650905606,"moonrise":1650848100,"moonset":1650884940,"moon_phase":0.82,"temp":{"day":19.91,"min":14.6,"max":20.51,"night":14.8,"eve":17.98,"morn":14.6},"feels_like":{"day":19.29,"night":14.22,"eve":17.35,"morn":13.87},"pressure":1013,"humidity":51,"dew_point":9.04,"wind_speed":6.33,"wind_deg":46,"wind_gust":9.35,"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":100,"pop":0,"uvi":8},{"dt":1650967200,"sunrise":1650942541,"sunset":1650992070,"moonrise":1650936180,"moonset":1650975540,"moon_phase":0.85,"temp":{"day":18.2,"min":12.07,"max":19.75,"night":14.64,"eve":17.85,"morn":12.07},"feels_like":{"day":17.54,"night":14.01,"eve":17.18,"morn":11.55},"pressure":1014,"humidity":56,"dew_point":8.93,"wind_speed":4.65,"wind_deg":37,"wind_gust":6.53,"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],"clouds":48,"pop":0,"uvi":8},{"dt":1651053600,"sunrise":1651028859,"sunset":1651078535,"moonrise":1651024140,"moonset":1651066020,"moon_phase":0.89,"temp":{"day":18.51,"min":12.01,"max":20.03,"night":14.61,"eve":17.83,"morn":12.01},"feels_like":{"day":17.88,"night":14.16,"eve":17.31,"morn":11.43},"pressure":1016,"humidity":56,"dew_point":9.12,"wind_speed":5.37,"wind_deg":38,"wind_gust":7.59,"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":0,"pop":0,"uvi":8}]})

        let forecastData = Forecast.getForecastsFromData(data);
        expect(forecastData).toStrictEqual(expectedData);

    })
})